# ============================================================
# Discoclaw â€” Complete Environment Reference
# ============================================================
# This is the full reference for all ~90 env vars.
# For quick start, see .env.example (only the essentials).
# Primary guided setup: run `discoclaw init` (global install).
# From source: run `pnpm setup` for guided interactive configuration.
# ============================================================

# ----------------------------------------------------------
# REQUIRED â€” the bot won't start without these
# ----------------------------------------------------------

# Your Discord bot token (from https://discord.com/developers/applications)
# Important: You must also enable Message Content Intent in the Discord Developer Portal
# (Bot page â†’ Privileged Gateway Intents). Without it, the bot silently receives empty messages.
DISCORD_TOKEN=

# Comma-separated Discord user IDs allowed to talk to the bot.
# Empty = nobody can use it (fail-closed).
DISCORD_ALLOW_USER_IDS=

# ----------------------------------------------------------
# AUTO-DETECTED â€” written by the bot on first connect; only override if needed
# ----------------------------------------------------------

# Tasks forum channel ID. Auto-created by the bot on first guild connect and
# persisted to system-scaffold.json. Only set this to override the auto-created channel.
#DISCOCLAW_TASKS_FORUM=

# Automations (cron) forum channel ID. Auto-created by the bot on first guild
# connect and persisted to system-scaffold.json. Only set this to override the auto-created channel.
#DISCOCLAW_CRON_FORUM=

# ----------------------------------------------------------
# CORE â€” most users will want to review these
# ----------------------------------------------------------

# Where the Claude CLI runs (its working directory).
# Default: ./workspace (or $DISCOCLAW_DATA_DIR/workspace if DATA_DIR is set)
#WORKSPACE_CWD=

# Primary runtime adapter for bot messages, crons, summaries, and plan execution.
# Valid values: claude | gemini | codex | openai | openrouter
# - openai requires OPENAI_API_KEY
# - openrouter requires OPENROUTER_API_KEY
# - claude requires a working Claude CLI
# - gemini requires the Gemini CLI (GEMINI_BIN)
#PRIMARY_RUNTIME=claude

# --- Primary models ---
# Model tier: fast | capable (provider-agnostic).
# Concrete model names (e.g. opus, sonnet, gpt-4o) are still accepted as passthrough.
#RUNTIME_MODEL=capable

# --- Fast-tier default ---
# Sets the default model for all "small" tasks (summary, cron, cron auto-tag, task auto-tag).
# Individual overrides (DISCOCLAW_SUMMARY_MODEL, etc.) still win when set.
#DISCOCLAW_FAST_MODEL=fast

# --- Tier model overrides ---
# Override the concrete model resolved for any runtime Ã— tier combination.
# Format: DISCOCLAW_TIER_<RUNTIME>_<FAST|CAPABLE>=<model>
# Unset = use the built-in default shown in the comments.
# Concrete model names (e.g. sonnet, gpt-4o-mini) are passed through unchanged.
#
# Claude Code adapter (default: fast=haiku, capable=sonnet):
#DISCOCLAW_TIER_CLAUDE_CODE_FAST=haiku
#DISCOCLAW_TIER_CLAUDE_CODE_CAPABLE=sonnet
#
# Gemini CLI adapter (default: fast=gemini-2.5-flash, capable=gemini-2.5-pro):
#DISCOCLAW_TIER_GEMINI_FAST=gemini-2.5-flash
#DISCOCLAW_TIER_GEMINI_CAPABLE=gemini-2.5-pro
#
# OpenAI-compatible adapter (default: adapter-default for both tiers):
#DISCOCLAW_TIER_OPENAI_FAST=gpt-4o-mini
#DISCOCLAW_TIER_OPENAI_CAPABLE=gpt-4o
#
# Codex CLI adapter (default: adapter-default for both tiers):
#DISCOCLAW_TIER_CODEX_FAST=
#DISCOCLAW_TIER_CODEX_CAPABLE=
#
# Tool-tier map â€” override which tool tier a model resolves to.
# Comma-separated model=tier pairs. Tiers: basic, standard, full.
# Format: haiku=basic,sonnet=standard,opus=full
# Unset = built-in pattern matching (haiku/flashâ†’basic, sonnetâ†’standard, opus/unknownâ†’full).
#DISCOCLAW_TOOL_TIER_MAP=

# Output format for the Claude CLI. stream-json gives smoother streaming.
#CLAUDE_OUTPUT_FORMAT=stream-json

# Allow Claude to run without permission prompts. This is what makes
# headless/Discord operation possible â€” the Discord allowlist above
# is the security boundary instead.
#CLAUDE_DANGEROUSLY_SKIP_PERMISSIONS=1

# --- Gemini CLI adapter ---
# Path to the Gemini CLI binary (default: gemini).
#GEMINI_BIN=gemini
# Default model for the Gemini CLI adapter.
#GEMINI_MODEL=gemini-2.5-pro

# Log level: trace | debug | info | warn | error | fatal
#LOG_LEVEL=info

# ============================================================
# CORE SUBSYSTEMS â€” enabled by default, configure as needed
# ============================================================

# ----------------------------------------------------------
# Cron â€” forum-based scheduled tasks (enabled by default)
# ----------------------------------------------------------
# Forum channel ID is auto-created on first connect (see AUTO-DETECTED above).
# Model tier for cron execution: fast | capable (concrete names accepted as passthrough).
#DISCOCLAW_CRON_MODEL=fast
# Enable cron Discord actions (CRUD via Discord action blocks).
#DISCOCLAW_DISCORD_ACTIONS_CRONS=1
# Persistent stats directory (run counts, last run time, status).
#DISCOCLAW_CRON_STATS_DIR=
# AI auto-tagging for cron purpose + model tier.
#DISCOCLAW_CRON_AUTO_TAG=1
#DISCOCLAW_CRON_AUTO_TAG_MODEL=fast
# Runtime tag-map file (seeded from scripts/cron/cron-tag-map.json on first boot).
#DISCOCLAW_CRON_TAG_MAP=
# Default timezone for cron schedules that don't specify one (IANA format, e.g. America/New_York).
# Falls back to the system timezone if unset or invalid.
#DEFAULT_TIMEZONE=
# Set to 0 to disable cron entirely.
#DISCOCLAW_CRON_ENABLED=1

# ----------------------------------------------------------
# Tasks â€” task tracking (enabled by default)
# ----------------------------------------------------------
# Forum channel ID is auto-created on first connect (see AUTO-DETECTED above).
# Guild ID â€” used for task sync bootstrap and system channel bootstrap.
# Also used for System channel bootstrap when the bot is in multiple servers.
DISCORD_GUILD_ID=
# Runtime tag-map file (seeded from scripts/tasks/tag-map.json on first boot).
#DISCOCLAW_TASKS_TAG_MAP=
# Skip Phase 5 (thread reconciliation) during task sync. Useful for shared-forum deployments
# where multiple instances share the same forum and you don't want cross-instance archival.
#DISCOCLAW_TASKS_SYNC_SKIP_PHASE5=0
# Enable/disable retries after sync failures.
#DISCOCLAW_TASKS_SYNC_FAILURE_RETRY_ENABLED=1
# Delay before failure retries (ms).
#DISCOCLAW_TASKS_SYNC_FAILURE_RETRY_DELAY_MS=30000
# Delay before deferred-close retries (ms).
#DISCOCLAW_TASKS_SYNC_DEFERRED_RETRY_DELAY_MS=30000
#DISCOCLAW_TASKS_MENTION_USER=
# When 1 and MENTION_USER set, open task starters keep @mention for sidebar visibility; removed on close.
#DISCOCLAW_TASKS_SIDEBAR=0
#DISCOCLAW_TASKS_AUTO_TAG=1
#DISCOCLAW_TASKS_AUTO_TAG_MODEL=fast
# Set to 0 to disable tasks entirely.
#DISCOCLAW_TASKS_ENABLED=1
# Prefix for generated task IDs (e.g. ws-001).
#DISCOCLAW_TASKS_PREFIX=ws

# ----------------------------------------------------------
# Discord actions â€” let Claude manage your server (enabled by default)
# ----------------------------------------------------------
# Master switch â€” must be 1 for any action category to work (default: 1).
# Enabling it unlocks the defer command below (and all other action categories).
#DISCOCLAW_DISCORD_ACTIONS=1
# Per-category flags (only active when master switch is 1):
#DISCOCLAW_DISCORD_ACTIONS_CHANNELS=1
#DISCOCLAW_DISCORD_ACTIONS_MESSAGING=1
#DISCOCLAW_DISCORD_ACTIONS_GUILD=1
# Intentionally off â€” moderation actions require explicit opt-in.
#DISCOCLAW_DISCORD_ACTIONS_MODERATION=0
#DISCOCLAW_DISCORD_ACTIONS_POLLS=1
#DISCOCLAW_DISCORD_ACTIONS_TASKS=1
# Allow the AI to self-initiate forge runs (draft + audit loops) via action blocks.
# Requires DISCOCLAW_FORGE_COMMANDS_ENABLED=1. Only one forge at a time. Default: 1.
#DISCOCLAW_DISCORD_ACTIONS_FORGE=1
# Allow the AI to create, inspect, approve, run, and close plans via action blocks.
# Requires DISCOCLAW_PLAN_COMMANDS_ENABLED=1. Default: 1.
#DISCOCLAW_DISCORD_ACTIONS_PLAN=1
# Allow the AI to read/write durable memory (facts, preferences) via action blocks.
# Requires DISCOCLAW_DURABLE_MEMORY_ENABLED=1. Default: 1.
#DISCOCLAW_DISCORD_ACTIONS_MEMORY=1
# Allow the AI to change status, activity, and nickname at runtime.
#DISCOCLAW_DISCORD_ACTIONS_BOT_PROFILE=1

# Allow the AI to defer another invocation (e.g., "check on the forge run in 10 minutes").
# The scheduler enforces DISCOCLAW_DISCORD_ACTIONS=1, respects the requesting message's channel
# permissions, and prevents chaining by disabling defer during the follow-up run.
DISCOCLAW_DISCORD_ACTIONS_DEFER=1
# Optional guard rails keep deferred invocations within safe bounds.
# Maximum delay (seconds) the scheduler will accept for defer commands (default: 1800 / 30 min).
#DISCOCLAW_DISCORD_ACTIONS_DEFER_MAX_DELAY_SECONDS=1800
# Maximum number of pending deferred invocations allowed at once (default: 5).
#DISCOCLAW_DISCORD_ACTIONS_DEFER_MAX_CONCURRENT=5

# ============================================================
# OPTIONAL â€” uncomment sections you need
# ============================================================

# ----------------------------------------------------------
# Channel restrictions
# ----------------------------------------------------------
# Restrict the bot to specific guild channel IDs (comma/space-separated).
# DMs are still allowed. For threads, allowlist the parent channel ID.
#DISCORD_CHANNEL_IDS=
# Require a channel-context file to exist before responding in a channel.
#DISCORD_REQUIRE_CHANNEL_CONTEXT=1
# Auto-create channel context scaffold on first message in a new channel.
#DISCORD_AUTO_INDEX_CHANNEL_CONTEXT=1
# Auto-join threads so the bot can respond inside them.
# Note: private threads still require manually adding the bot.
#DISCORD_AUTO_JOIN_THREADS=1

# ----------------------------------------------------------
# Reaction handler (trigger AI via emoji reactions)
# ----------------------------------------------------------
# Master switch â€” when enabled, reacting to a message with any emoji
# triggers the AI to respond to that message (allowlist still applies).
#DISCOCLAW_REACTION_HANDLER=0
# Ignore reactions on messages older than this many hours (prevents
# accidental triggers when scrolling through old history).
#DISCOCLAW_REACTION_MAX_AGE_HOURS=24
# Reaction-remove handler â€” fires when a user removes a reaction.
# Disabled by default; useful for workflows where un-reacting has meaning.
#DISCOCLAW_REACTION_REMOVE_HANDLER=0
# Note: ðŸ›‘ reactions on bot in-progress messages are reserved for aborting the active stream and will never trigger an AI invocation.

# ----------------------------------------------------------
# Memory & summaries
# ----------------------------------------------------------
# Rolling AI-generated summaries of past conversations.
#DISCOCLAW_SUMMARY_ENABLED=1
#DISCOCLAW_SUMMARY_MODEL=fast
#DISCOCLAW_SUMMARY_MAX_CHARS=2000
#DISCOCLAW_SUMMARY_EVERY_N_TURNS=5
# Override storage directory for rolling summaries.
#DISCOCLAW_SUMMARY_DATA_DIR=
# Durable per-user facts/preferences (manual via !memory commands).
#DISCOCLAW_DURABLE_MEMORY_ENABLED=1
#DISCOCLAW_DURABLE_INJECT_MAX_CHARS=2000
#DISCOCLAW_DURABLE_MAX_ITEMS=200
#DISCOCLAW_MEMORY_COMMANDS_ENABLED=1
# Override storage directory for durable memory.
#DISCOCLAW_DURABLE_DATA_DIR=
# Cross-channel short-term memory (per-guild, per-user ring buffer).
# Records recent exchanges across public channels for cross-channel awareness.
#DISCOCLAW_SHORTTERM_MEMORY_ENABLED=0
#DISCOCLAW_SHORTTERM_MAX_ENTRIES=20
#DISCOCLAW_SHORTTERM_MAX_AGE_HOURS=6
#DISCOCLAW_SHORTTERM_INJECT_MAX_CHARS=1000
# Override storage directory for short-term memory.
#DISCOCLAW_SHORTTERM_DATA_DIR=
# Auto-extract notable facts from user messages into durable memory.
# Runs after rolling summary generation. Default on.
#DISCOCLAW_SUMMARY_TO_DURABLE_ENABLED=1
# Character budget for recent conversation history in prompts (0 = disabled).
#DISCOCLAW_MESSAGE_HISTORY_BUDGET=3000

# ----------------------------------------------------------
# Bot identity
# ----------------------------------------------------------
# Bot display name (server nickname). Falls back to workspace/IDENTITY.md name, then "Discoclaw".
#DISCOCLAW_BOT_NAME=
# Presence status on startup: online | idle | dnd | invisible (default: don't set)
#DISCOCLAW_BOT_STATUS=
# Activity text on startup (empty = no activity)
#DISCOCLAW_BOT_ACTIVITY=
# Activity type: Playing (default) | Listening | Watching | Competing | Custom
#DISCOCLAW_BOT_ACTIVITY_TYPE=Playing
# Avatar image: absolute file path or URL (applied once on startup; empty = don't change)
#DISCOCLAW_BOT_AVATAR=

# ----------------------------------------------------------
# Status & observability
# ----------------------------------------------------------
# Channel name or ID to post status embeds (bot online/offline, errors).
#DISCOCLAW_STATUS_CHANNEL=
# Enable health commands (`!health`, `!health verbose`) for allowlisted users.
#DISCOCLAW_HEALTH_COMMANDS_ENABLED=1
# Optional subset allowlist for `!health verbose` (comma/space-separated IDs).
# Empty = any allowlisted user can use verbose mode.
#DISCOCLAW_HEALTH_VERBOSE_ALLOWLIST=

# ----------------------------------------------------------
# Advanced / debug
# ----------------------------------------------------------
# Data root â€” if set, workspace defaults to $DISCOCLAW_DATA_DIR/workspace.
#DISCOCLAW_DATA_DIR=
# Content directory override.
#DISCOCLAW_CONTENT_DIR=
# Force re-create workspace/BOOTSTRAP.md from the template on next startup (set to 1; auto-clears after first boot).
#DISCOCLAW_FORCE_BOOTSTRAP=0
# Enable per-session runtime isolation.
#DISCOCLAW_RUNTIME_SESSIONS=1
# Path to claude CLI binary (if not on $PATH).
#CLAUDE_BIN=claude
# Forward Claude CLI stderr to Discord (useful for debugging).
#CLAUDE_ECHO_STDIO=0
# Pass --verbose to the Claude CLI for increased output detail.
# Requires CLAUDE_OUTPUT_FORMAT=stream-json (auto-disabled with text format).
#CLAUDE_VERBOSE=0
# Write Claude CLI debug logs to this file.
#CLAUDE_DEBUG_FILE=
# Skip slow MCP plugin init in headless/systemd contexts.
#CLAUDE_STRICT_MCP_CONFIG=1
# Dump resolved runtime config at startup.
#DISCOCLAW_DEBUG_RUNTIME=0
# Per-group working directories.
#GROUPS_DIR=
#USE_GROUP_DIR_CWD=0
# Tools available to the runtime (Glob, Grep, Write now included by default).
#RUNTIME_TOOLS=Bash,Read,Write,Edit,Glob,Grep,WebSearch,WebFetch
# Fallback model tier when primary is overloaded (concrete names accepted as passthrough).
#RUNTIME_FALLBACK_MODEL=fast
# Max USD spend per Claude CLI process. One-shot: per invocation.
# Multi-turn: per session lifetime (accumulates across turns). Recommend $5-10.
#RUNTIME_MAX_BUDGET_USD=5.00
# Append to Claude's system prompt (pre-loads PA identity, skips workspace PA file reads).
# Max 4000 chars. Condense SOUL.md + IDENTITY.md + USER.md + TOOLS.md content here.
# Note: Do not set this on first run before workspace/BOOTSTRAP.md has been consumed,
# as the skip logic also bypasses BOOTSTRAP.md loading.
#CLAUDE_APPEND_SYSTEM_PROMPT=
# Override the default platform-detected restart command used by !restart and
# !update apply. Useful for custom setups (e.g. Docker, non-standard service
# managers, or running under a different user). If unset, the command is
# auto-selected: systemctl --user on Linux, launchctl on macOS.
#DC_RESTART_CMD=
# Sets the systemd unit / launchd label name used by !restart and !update apply.
# Default: discoclaw. Ignored when DC_RESTART_CMD is set (that overrides the entire command).
#DISCOCLAW_SERVICE_NAME=discoclaw
# Global cap on parallel runtime invocations across all Discord sessions (0 = unlimited).
#DISCOCLAW_MAX_CONCURRENT_INVOCATIONS=3
# Max depth for chained action follow-ups (e.g. defer â†’ action â†’ response). 0 = disabled.
#DISCOCLAW_ACTION_FOLLOWUP_DEPTH=3
# Timeout for runtime invocations (ms).
#RUNTIME_TIMEOUT_MS=1800000
# Multi-turn mode: persistent subprocess per session, keeping session context across messages (default: 1).
#DISCOCLAW_MULTI_TURN=1
# Timeout (ms) before a multi-turn process is considered hung and restarted.
#DISCOCLAW_MULTI_TURN_HANG_TIMEOUT_MS=60000
# Idle timeout (ms) before an inactive multi-turn process is recycled.
#DISCOCLAW_MULTI_TURN_IDLE_TIMEOUT_MS=300000
# Maximum concurrent multi-turn processes (per bot instance).
#DISCOCLAW_MULTI_TURN_MAX_PROCESSES=5
# Enable session-ID scanning to detect and resume existing Claude sessions.
#DISCOCLAW_SESSION_SCANNING=1
# Parse tool-use events during streaming for better progress reporting and stall suppression.
#DISCOCLAW_TOOL_AWARE_STREAMING=1
# Stream stall detection: kill one-shot process if no stdout/stderr for this long (ms). 0 = disabled. (default: 600000)
#DISCOCLAW_STREAM_STALL_TIMEOUT_MS=120000
# Progress stall timeout: alert after this many ms with no progress event (ms). 0 = disabled.
#DISCOCLAW_PROGRESS_STALL_TIMEOUT_MS=300000
# Stream stall warning: show user-visible warning in Discord after this many ms of no events. 0 = disabled. (default: 300000)
#DISCOCLAW_STREAM_STALL_WARNING_MS=60000
# Post a brief "Done (Xm Ys)" completion notice as a new message after long-running runs finish.
# Discord's unread indicator fires on new messages but not edits, so users who left the channel
# while the bot was working will see an unread badge. Set to 0 to disable.
#DISCOCLAW_COMPLETION_NOTIFY=1
# Minimum elapsed time (ms) before a completion notice is sent. Runs shorter than this are
# considered "fast" and don't need a notification. Default: 30000 (30 seconds).
#DISCOCLAW_COMPLETION_NOTIFY_THRESHOLD_MS=30000

# ----------------------------------------------------------
# Plan & Forge â€” AI-assisted planning and implementation
# ----------------------------------------------------------
# Enable/disable !plan and !forge commands.
#DISCOCLAW_PLAN_COMMANDS_ENABLED=1
#DISCOCLAW_FORGE_COMMANDS_ENABLED=1
# Phase decomposition for approved plans.
#PLAN_PHASES_ENABLED=1
# Max files per phase batch during decomposition.
#PLAN_PHASE_MAX_CONTEXT_FILES=5
# Per-phase execution timeout (ms). Default: 1800000 (30 min).
#PLAN_PHASE_TIMEOUT_MS=1800000
# Max audit-fix attempts per phase before marking failed.
#PLAN_PHASE_AUDIT_FIX_MAX=3
# Max draft-audit-revise loops before CAP_REACHED.
#FORGE_MAX_AUDIT_ROUNDS=5
# Model overrides for forge roles (fall back to RUNTIME_MODEL).
#FORGE_DRAFTER_MODEL=
#FORGE_AUDITOR_MODEL=
# Per-agent timeout within forge (ms).
#FORGE_TIMEOUT_MS=1800000
# Min interval between Discord progress message edits (ms).
#FORGE_PROGRESS_THROTTLE_MS=3000
# Enabling this immediately approves/runs clean plans (no blocking/medium/minor severity markers);
# disabling it keeps the manual `!plan approve` + `!plan run` prompts.
#FORGE_AUTO_IMPLEMENT=1

# ----------------------------------------------------------
# Multi-provider runtime overrides
# ----------------------------------------------------------
# Route the forge drafter to a non-Claude runtime.
# Valid values: "codex" (Codex CLI), "openai" (OpenAI-compatible HTTP API), "openrouter" (OpenRouter).
#FORGE_DRAFTER_RUNTIME=
# Route the forge auditor to a non-Claude runtime.
# Valid values: "codex" (Codex CLI), "openai" (OpenAI-compatible HTTP API), "openrouter" (OpenRouter).
#FORGE_AUDITOR_RUNTIME=

# --- Codex CLI adapter ---
# Path to the Codex CLI binary (default: codex).
#CODEX_BIN=codex
# Optional: isolate Codex state/sessions from ~/.codex (helps avoid stale rollout DB issues).
#CODEX_HOME=/absolute/path/to/.codex-home-discoclaw
# Default model for the Codex CLI adapter. Used when FORGE_AUDITOR_MODEL is not set.
#CODEX_MODEL=gpt-5.3-codex
# WARNING: disables Codex approval prompts and sandbox protections (full-access mode).
# Equivalent to passing --dangerously-bypass-approvals-and-sandbox to codex exec.
#CODEX_DANGEROUSLY_BYPASS_APPROVALS_AND_SANDBOX=0
# Disable Codex session persistence/resume (workaround for session DB issues).
#CODEX_DISABLE_SESSIONS=0

# --- OpenAI-compatible HTTP adapter ---
# API key for the OpenAI-compatible adapter. Required when FORGE_AUDITOR_RUNTIME=openai.
#OPENAI_API_KEY=
# Base URL (override for proxies, Azure OpenAI, Ollama, etc.).
#OPENAI_BASE_URL=https://api.openai.com/v1
# Default model when FORGE_AUDITOR_MODEL is not set.
#OPENAI_MODEL=gpt-4o
# Enable tool use (function calling) for OpenAI-compat and OpenRouter adapters.
# When enabled, models can autonomously read files, run commands, edit code, etc.
# via the standard OpenAI function-calling protocol with a server-side tool loop.
# File/path access is scoped to the workspace CWD (WORKSPACE_CWD) plus any
# additional directories from --add-dir / group CWD configuration.
# Default: 0 (disabled â€” streaming text only).
#OPENAI_COMPAT_TOOLS_ENABLED=0

# --- OpenRouter adapter ---
# API key for OpenRouter. Required when PRIMARY_RUNTIME=openrouter or FORGE_*_RUNTIME=openrouter.
#OPENROUTER_API_KEY=
# Base URL (default: OpenRouter API endpoint).
#OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
# Default model for the OpenRouter adapter.
#OPENROUTER_MODEL=anthropic/claude-sonnet-4

# ----------------------------------------------------------
# Webhooks â€” inbound HTTP triggers from external services
# ----------------------------------------------------------
# TCP port the webhook server listens on (default: 9400).
#DISCOCLAW_WEBHOOK_PORT=9400
# Absolute path to the webhook source config file.
# JSON object mapping source names to their config:
#   {
#     "github": { "secret": "hmac-secret", "channel": "123456789" },
#     "gms":    { "secret": "hmac-secret", "channel": "987654321" }
#   }
# - secret: HMAC-SHA256 secret used to verify the X-Hub-Signature-256 header.
# - channel: Discord channel name or ID where the webhook posts (reuses cron pipeline).
#DISCOCLAW_WEBHOOK_CONFIG=
# Set to 1 to enable the webhook server.
#DISCOCLAW_WEBHOOK_ENABLED=0
# To expose webhooks to external services, see docs/webhook-exposure.md

# ----------------------------------------------------------
# Browser automation (agent-browser)
# ----------------------------------------------------------
# Chromium path for agent-browser. Only needed if the bundled browser
# (from `agent-browser install`) doesn't work.
#AGENT_BROWSER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# ----------------------------------------------------------
# Image generation
# ----------------------------------------------------------
# Master switch â€” enables the imagegen Discord action category (default: off).
# When enabled, the AI can generate images via action blocks using OpenAI or Gemini Imagen.
DISCOCLAW_DISCORD_ACTIONS_IMAGEGEN=0
# API key for Gemini Imagen models (imagen-4.0-generate-001 and similar).
# Leave unset to use OpenAI only.
#IMAGEGEN_GEMINI_API_KEY=
# Override the default image generation model. If unset, auto-detected:
# only IMAGEGEN_GEMINI_API_KEY set â†’ imagen-4.0-generate-001; otherwise â†’ dall-e-3.
# OpenAI models: dall-e-3, gpt-image-1
# Gemini models: imagen-4.0-generate-001, imagen-4.0-fast-generate-001, imagen-4.0-ultra-generate-001
#IMAGEGEN_DEFAULT_MODEL=
# Note: OpenAI image generation reuses OPENAI_API_KEY (documented above in the
# OpenAI-compatible HTTP adapter section). When DISCOCLAW_DISCORD_ACTIONS_IMAGEGEN=1,
# at least one of OPENAI_API_KEY or IMAGEGEN_GEMINI_API_KEY must be set.

# ----------------------------------------------------------
# Voice (STT/TTS) â€” join voice channels, listen and respond
# ----------------------------------------------------------
# Master switch â€” enables voice channel interaction (default: off).
# When enabled, the bot can join Discord voice channels, transcribe speech via STT,
# and respond with synthesized speech via TTS.
#DISCOCLAW_VOICE_ENABLED=0
# Enable voice Discord action category (voiceJoin, voiceLeave, voiceStatus, voiceMute, voiceDeafen).
# Requires DISCOCLAW_VOICE_ENABLED=1 to take effect (default: off).
#DISCOCLAW_DISCORD_ACTIONS_VOICE=0
# Auto-join voice channels when a non-bot user joins, and auto-leave when the last
# non-bot user leaves. Starts/tears down the audio pipeline (STT receiver) automatically.
# Requires DISCOCLAW_VOICE_ENABLED=1 (default: off).
#DISCOCLAW_VOICE_AUTO_JOIN=0
# Speech-to-text provider: deepgram (Deepgram Nova-3 API) or whisper (whisper.cpp local).
# deepgram requires DEEPGRAM_API_KEY; whisper runs locally with no API key.
#DISCOCLAW_STT_PROVIDER=deepgram
# Text-to-speech provider: cartesia | deepgram | kokoro | openai.
# cartesia requires CARTESIA_API_KEY; deepgram reuses DEEPGRAM_API_KEY;
# openai requires OPENAI_API_KEY; kokoro runs locally with no API key.
#DISCOCLAW_TTS_PROVIDER=cartesia
# Channel name or ID that serves as the voice pipeline's "home channel":
# transcript mirror target (voice transcripts and responses posted as text) AND
# prompt context source (root policy, PA files, channel context, durable memory).
# The old env var DISCOCLAW_VOICE_TRANSCRIPT_CHANNEL is still accepted as a fallback.
# Leave unset to disable text mirroring and voice prompt context.
#DISCOCLAW_VOICE_HOME_CHANNEL=
# Model for voice AI responses: tier (fast | capable) or concrete name (sonnet, opus, haiku).
# Independent of RUNTIME_MODEL â€” allows tuning voice latency vs quality separately from chat.
# Switchable at runtime via `modelSet voice <model>`.
# Default: follows DISCOCLAW_FAST_MODEL (override here for voice-specific tuning).
#DISCOCLAW_VOICE_MODEL=sonnet
# Custom system prompt prepended to voice AI invocations. Max 4000 chars.
# Use this to set a conversational tone, brevity instructions, or persona for voice responses.
#DISCOCLAW_VOICE_SYSTEM_PROMPT=
# API key for Deepgram Nova-3 STT. Required when DISCOCLAW_STT_PROVIDER=deepgram.
#DEEPGRAM_API_KEY=
# Deepgram STT model for voice transcription (default: nova-3-conversationalai).
# See https://developers.deepgram.com/docs/models-languages-overview for available models.
#DEEPGRAM_STT_MODEL=nova-3-conversationalai
# Deepgram TTS voice for speech synthesis (default: aura-2-asteria-en).
# See https://developers.deepgram.com/docs/tts-models for available voices.
#DEEPGRAM_TTS_VOICE=aura-2-asteria-en
# API key for Cartesia Sonic-3 TTS. Required when DISCOCLAW_TTS_PROVIDER=cartesia.
#CARTESIA_API_KEY=
