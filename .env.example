# ============================================================
# Discoclaw — Quick Start Configuration
# ============================================================
# Copy this file to .env and fill in the REQUIRED values.
# Primary guided setup: run `discoclaw init` (global install).
# From source: run `pnpm setup` for guided interactive configuration.
# For all ~90 options, see .env.example.full
# ============================================================

# ----------------------------------------------------------
# REQUIRED — the bot won't start without these
# ----------------------------------------------------------

# Your Discord bot token (from https://discord.com/developers/applications)
# Important: Enable Message Content Intent in Developer Portal
# (Bot → Privileged Gateway Intents) or the bot receives empty messages.
DISCORD_TOKEN=

# Comma-separated Discord user IDs allowed to talk to the bot.
# Empty = nobody can use it (fail-closed).
DISCORD_ALLOW_USER_IDS=

# ----------------------------------------------------------
# AUTO-DETECTED — written by the bot on first connect; only override if needed
# ----------------------------------------------------------

# Tasks forum channel ID. Auto-created by the bot on first guild connect and
# persisted to system-scaffold.json. Only set this to override the auto-created channel.
#DISCOCLAW_TASKS_FORUM=

# Automations (cron) forum channel ID. Auto-created by the bot on first guild
# connect and persisted to system-scaffold.json. Only set this to override the auto-created channel.
#DISCOCLAW_CRON_FORUM=

# Default model for cron job execution: fast | capable (or concrete model names).
# Defaults to capable (resolves to Sonnet on Claude Code) — avoids using Opus on routine cron work.
# Override at runtime via `!models set cron-exec <model>`.
#DISCOCLAW_CRON_EXEC_MODEL=capable

# ----------------------------------------------------------
# CORE — most users will want to review these
# ----------------------------------------------------------

# Guild (server) ID — used for task sync and system channel bootstrap.
# Collected as a required field by `discoclaw init`.
DISCORD_GUILD_ID=

# Where the Claude CLI runs (its working directory).
# Default: ./workspace (or $DISCOCLAW_DATA_DIR/workspace if DATA_DIR is set)
#WORKSPACE_CWD=

# Primary runtime adapter: claude | gemini | codex | openai | openrouter
# Notes:
# - openai requires OPENAI_API_KEY
# - claude requires a working Claude CLI
# - gemini requires the Gemini CLI (GEMINI_BIN)
#PRIMARY_RUNTIME=claude
# If PRIMARY_RUNTIME=codex and you want full-access mode (no approvals/sandbox):
#CODEX_DANGEROUSLY_BYPASS_APPROVALS_AND_SANDBOX=1
# Optional: isolate Codex state/sessions from ~/.codex (helps avoid stale rollout DB issues):
#CODEX_HOME=/absolute/path/to/.codex-home-discoclaw
# Disable Codex session persistence/resume (workaround for session DB issues):
#CODEX_DISABLE_SESSIONS=1

# Model tier: fast | capable (provider-agnostic).
# Concrete model names (e.g. opus, sonnet, gpt-4o) are still accepted as passthrough.
#RUNTIME_MODEL=capable

# Output format for the Claude CLI. stream-json gives smoother streaming.
#CLAUDE_OUTPUT_FORMAT=stream-json

# Allow Claude to run without permission prompts. This is what makes
# headless/Discord operation possible — the Discord allowlist above
# is the security boundary instead.
#CLAUDE_DANGEROUSLY_SKIP_PERMISSIONS=1

# Gemini CLI adapter
# Path to the Gemini CLI binary (default: gemini).
#GEMINI_BIN=gemini
# Default model for the Gemini CLI adapter.
#GEMINI_MODEL=gemini-2.5-pro

# --- OpenAI-compatible HTTP adapter ---
#OPENAI_API_KEY=
#OPENAI_MODEL=gpt-4o
# Enable tool use (function calling) for OpenAI-compat and OpenRouter adapters.
#OPENAI_COMPAT_TOOLS_ENABLED=0

# --- OpenRouter adapter ---
#OPENROUTER_API_KEY=
#OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
#OPENROUTER_MODEL=anthropic/claude-sonnet-4

# Log level: trace | debug | info | warn | error | fatal
#LOG_LEVEL=info

# Override the default platform-detected restart command used by !restart and
# !update apply. Useful for custom setups (e.g. Docker, non-standard service
# managers, or running under a different user). If unset, the command is
# auto-selected: systemctl --user on Linux, launchctl on macOS.
#DC_RESTART_CMD=

# ----------------------------------------------------------
# Voice — configure via `pnpm setup` or `discoclaw init`
# ----------------------------------------------------------
# Run `pnpm setup` or `discoclaw init` to enable voice interactively,
# or set these vars manually to enable voice chat (STT/TTS via Deepgram).
#DISCOCLAW_VOICE_ENABLED=0
# Text channel used for voice prompt context and actions (e.g. posting action results,
# reading pinned notes). Required for full voice functionality when voice is enabled.
#DISCOCLAW_VOICE_HOME_CHANNEL= # e.g. "voice"
# Text channel for posting voice transcripts. Optional — auto-discovered via bootstrap
# (the bot creates a "voice-log" text channel and stores its ID in system-scaffold.json).
# Only set this to override the auto-discovered channel.
#DISCOCLAW_VOICE_LOG_CHANNEL=
#DEEPGRAM_API_KEY=

# ----------------------------------------------------------
# For all ~90 options (subsystems, actions, memory, identity,
# observability, advanced/debug), see .env.example.full
# ----------------------------------------------------------
